<!doctype refentry PUBLIC "-//OASIS//DTD DocBook V4.1//EN" [

<!-- Process this file with docbook-to-man to generate an nroff manual
     page: `docbook-to-man manpage.sgml > manpage.1'.  You may view
     the manual page with: `docbook-to-man manpage.sgml | nroff -man |
     less'.  A typical entry in a Makefile or Makefile.am is:

manpage.1: manpage.sgml
	docbook-to-man $< > $@

    
	The docbook-to-man binary is found in the docbook-to-man package.
	Please remember that if you create the nroff version in one of the
	debian/rules file targets (such as build), you will need to include
	docbook-to-man in your Build-Depends control field.

  -->

  <!-- Fill in your name for FIRSTNAME and SURNAME. -->
  <!ENTITY dhfirstname "<firstname>Vincent</firstname>">
  <!ENTITY dhsurname   "<surname>Deffontaines</surname>">
  <!-- Please adjust the date whenever revising the manpage. -->
  <!ENTITY dhdate      "<date>august 26, 2004</date>">
  <!-- SECTION should be 1-8, maybe w/ subsection other parameters are
       allowed: see man(7), man(1). -->
  <!ENTITY dhsection   "<manvolnum>1</manvolnum>">
  <!ENTITY dhemail     "<email>vincent@inl.fr</email>">
  <!ENTITY dhemail2    "<email>eric@inl.fr</email>">
  <!ENTITY dhusername  "Vincent Deffontaines">
  <!ENTITY dhucpackage "<refentrytitle>NUFW</refentrytitle>">
  <!ENTITY dhpackage   "nufw_dbm">

  <!ENTITY gnu         "<acronym>GNU</acronym>">
  <!ENTITY gpl         "&gnu; <acronym>GPL</acronym>">

]>

<refentry>
  <refentryinfo>
    <address>
      &dhemail;
    </address>
    <author>
      &dhfirstname;
      &dhsurname;
    </author>
    <copyright>
      <year>2004</year>
      <holder>&dhusername;</holder>
    </copyright>
    &dhdate;
  </refentryinfo>
  <refmeta>
    &dhucpackage;

    &dhsection;
  </refmeta>
  <refnamediv>
    <refname>&dhpackage;</refname>

    <refpurpose>generate and maintain NuFW dbm users files</refpurpose>
  </refnamediv>
  <refsynopsisdiv>
    <cmdsynopsis>
      <command>&dhpackage;</command>

      <arg><option><replaceable>gdbm file</replaceable></option></arg>
    </cmdsynopsis>
    <cmdsynopsis>
      <command>&dhpackage;</command>
      <arg><option>-P</option></arg>
      <arg>-l <replaceable>username</replaceable></arg><arg><option> <replaceable>gdbm file</replaceable></option></arg>
    </cmdsynopsis>
    <cmdsynopsis>
      <command>&dhpackage;</command>
      <arg>-d <replaceable>username</replaceable></arg><arg><option> <replaceable>gdbm file</replaceable></option></arg>
    </cmdsynopsis>
    <cmdsynopsis>
      <command>&dhpackage;</command>
      <arg><option>-C SHA1/MD5</option></arg>
      <arg><option>-o</option></arg>
      <arg><option>-r</option></arg>
      <arg>-g <replaceable>gid[,gid...]</replaceable></arg>
      <arg>-c <replaceable>username</replaceable></arg><arg><option> <replaceable>gdbm file</replaceable></option></arg>
    </cmdsynopsis>
    <cmdsynopsis>
      <command>&dhpackage;</command>
      <arg>-u <replaceable>username</replaceable></arg><arg><option> <replaceable>gdbm file</replaceable></option></arg>
    </cmdsynopsis>
    <cmdsynopsis>
      <command>&dhpackage;</command>
      <arg>-R</arg><arg><option> <replaceable>gdbm file</replaceable></option></arg>
    </cmdsynopsis>

  </refsynopsisdiv>
  <refsect1>
    <title>DESCRIPTION</title>

    <para>This manual page documents the
      <command>&dhpackage;</command> command.</para>

      <para>nufw_dbm is a command line tool to be used by administrators to create and modify Nufw
      users database in DBM format. This program allows for user creation,
      deletion, password update. It supports encrypted passwords, currently with
      MD5 as well as SHA1 algorithms.</para>
      <para>Original packaging and informations and help can be found from http://www.nufw.org/</para>
      <para>Running nufw_dbm with DBM file as single argument results in listing
      usernames, one per line.</para>
      <para>For all operations of the program, a DBM file must be specified as
      argument.</para>

  </refsect1>
  <refsect1>
    <title>OPTIONS</title>

    <variablelist>
      <varlistentry>
        <term><option>-l <replaceable>username</replaceable></option>
        </term>
        <listitem>
          <para>Displays group IDs the specified username is member of.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-P</option>
        </term>
        <listitem>
          <para>Displays the password of the specified username. This option is
          useful only in conjunction with -l. If password is encrypted it is
          prefixed with either {MD5} or {SHA1}.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-d <replaceable>username</replaceable></option>
        </term>
        <listitem>
          <para>Remove specified user entry from the DBM file. Consider running
          the program with -R option to reorganize the database after you have
          deleted many users.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-c <replaceable>username</replaceable></option>
        </term>
        <listitem>
        <para>Create an entry for specified username in database. This option
        must be used in conjunction with -g. You may also be interested in -r,
        -o and especially -C options when creating a new user.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-g <replaceable>gid,[gid...]</replaceable></option>
        </term>
        <listitem>
        <para>Specify groups the created member is member of. This option must
        be used with -c, and is ignored in other contexts.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-C <replaceable>SHA1/MD5</replaceable></option>
        </term>
        <listitem>
          <para>Specify which encryption to use to protect password. It is
          recommended that you always use this option when creating a new user.
          This option is only useful in conjunction with -c. It is ignored
          in other contexts. If you do not specify this option at user creation,
          password will be stored unencrypted.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-o</option>
        </term>
        <listitem>
          <para>Override the DBM file. All existing data will be lost if you use
          this option. 
          This option is only useful in conjunction with -c. It is ignored
          in other contexts.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-r</option>
        </term>
        <listitem>
          <para>Override the specified username, if it exists. Just create one
          if it does not exist.
          This option is only useful in conjunction with -c. It is ignored
          in other contexts.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-u <replaceable>username</replaceable></option>
        </term>
        <listitem>
         <para>Update user's password. If old password was encrypted, new one
         will be too, with the same algorithm.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-R </option>
        </term>
        <listitem>
          <para> If you have had a lot of deletions and would like to shrink  the  space
                 used by the DBM file, this option will reorganize the
                 database. This option should be used very infrequently.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
  <refsect1>
    <title>SEE ALSO</title>
    <para>nuauth(1), nufw(1)</para>
  </refsect1>
  <refsect1>
    <title>AUTHOR</title>
    <para>Nufw was designed and coded by Eric Leblond, aka Regit (&dhemail2;) , and Vincent
    Deffontaines, aka gryzor (&dhemail;). Original idea in 2001, while working on NSM Ldap
    support.</para>

    <para>This manual page was written by &dhusername;</para>
      <para>Permission is
      granted to copy, distribute and/or modify this document under
      the terms of the &gnu; Free Documentation
      License, Version 2 as published by the Free
      Software Foundation; with no Invariant Sections, no Front-Cover
      Texts and no Back-Cover Texts.</para>

  </refsect1>
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:2
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->


