##########################################
# Nuauth Configuration file
##########################################

# Nuauth 
#############################################

# address nuauth listens on for clients
nuauth_client_listen_addr="0.0.0.0"

# address nuauth listens on for nufw packets
nuauth_nufw_listen_addr="127.0.0.1"

# port for nufw gw request
nuauth_gw_packet_port=4129

# port for user authentification packet
nuauth_user_packet_port=4130

# NuFW
############################################
# address of the nufw gw
nufw_gw_addr="192.168.1.1"

# port where the nufw gw waits for authentifcation answer
nufw_gw_port=4128

# the prio associated to the answer
nuauth_prio=1

#What to do when several groups user is member of disagree about access rights
nuauth_prio_to_nok=1

# Comportemental items
# ############################################

# time in second to keep packet in the nuauth conntrack
nuauth_packet_timeout=5

# number of threads to work on user request
nuauth_number_usercheckers=10

# number of threads to work on gw request
nuauth_number_aclcheckers=10

## Authentication module for user :
# to be choozen in :
# - libldap
# - that's all ;-) 
# (dbm coming in a future release)

nuauth_user_check_module="libldap"

## Acl checking  module :
# to be choozen in :
# - libldap
# - that's all ;-) 
# (xml coming in a future release)

nuauth_acl_check_module="libldap"

############################################
# Users tracking
#############################################

# decide if where logging user activity
# log level is the sum of values :
# 0 : no log at all
# 1 : log new user
# 2 : log rejected packets
# 4 : log accepted packets
# 8 : do session tracking

nuauth_log_users=1


##############################################
#Choose user logging method
##############################################
#You can log to mysql, postgresql, or syslog
#Therefore, acceptable values for this parameter are :
# : "mysql", "pgsql", "syslog"
nuauth_user_logs_module="pgsql"

###########################################
# Ldap external auth
###########################################

# Connection parameters
###########################################

# address of the ldap server
ldap_server_addr="192.168.1.1"

# port of the ldap server
ldap_server_port=389

# dn and password to bind ldap connection to 
ldap_bind_dn="cn=admin,dc=nufw,dc=org"
ldap_bind_password="mypassword"

# Timeout of ldap request
ldap_request_timeout=4

# Search parameters
###########################################

# base dn for search request
# default for ldap_acls_base_dn,ldap_users_base_dn
# if they are not set

ldap_basedn="dc=nufw,dc=org"

# base dn for acl search request
ldap_acls_base_dn="dc=acls,dc=nufw,dc=org"

# base dn for user search request
ldap_users_base_dn="ou=people,dc=nufw,dc=org"


##############################################
# DBM users check
##############################################

dbm_users_file="/etc/nufw/users.dbm"



###############################################
# Database User Logging config
###############################################



#MYSql server address
mysql_server_addr="127.0.0.1"

#Mysql server port
mysql_server_port=3306

#Mysql User to login as
mysql_user="myuser"

#Mysql password, associated with username
mysql_passwd="secret"

#Name of MYsql database to connect to
mysql_db_name="nufw"

#Name of table name to connect to. Must belong to the chosen database. Specified
#user must have rights on this table
mysql_table_name="ulog"

#Time in seconds we consider connection to the database to be lost if we have no
#answer
mysql_request_timeout=5

#Mysql SSL options
#Set mysql_use_ssl=1 to use SSL, else other ssl options will be ignored
mysql_use_ssl=0 

#Set mysql_ssl_keyfile to the full path of the file containing your PRIVATE key.
#This must be set if you want to use ssl, as default value is NULL
mysql_ssl_keyfile="/etc/nufw/ssl/mysql.key"

#Set mysql_ssl_certfile to the full path of the file containing your PUBLIC certificate
#This must be set if you want to use ssl, as default value is NULL
mysql_ssl_certfile="/etc/nufw/ssl/mysql.cert"

#Set mysql_ssl_ca to the full path of the file containing your CA (Certificate Authority) file
#UNSET THIS FIELD IF YOU DON'T WANT TO USE a CA
mysql_ssl_ca="/etc/nufw/ssl/mysql.ca"

#Set mysql_ssl_capath to the full path of a DIRECTORY containing your CA
#Certificate Authority) files, in PEM format
#UNSET THIS FIELD IF YOU DON'T WANT TO USE CAs
mysql_ssl_capath="/etc/nufw/ssl/mysql.cas/"

#Set mysql_ssl_cipher to the list of ciphers you wish to use for Mysql
#connections. A complete cipher list on your system should be available if you
#issue "openssl ciphers"
#The default value here is "ALL:!ADH:+RC4:@STRENGTH", which is OpenSSL default,
#and means "Use any but give RC4 the lowest priority"
#For more info see : http://www.mkssoftware.com/docs/man1/openssl_ciphers.1.asp
mysql_ssl_cipher="ALL:!ADH:+RC4:@STRENGTH"

#PGSql server address
pgsql_server_addr="127.0.0.1"

#PGsql  server port
pgsql_server_port=5432

#PGsql User to login as
pgsql_user="myuser"

#PGsql password, associated with username
pgsql_passwd="secret"

#Whether to use SSL or not (THIS PARAMETER IS IGNORED FOR NOW)
pgsql_ssl="prefer"

#Name of PGsql database to connect to
pgsql_db_name="nufw"

#Name of table name to connect to. Must belong to the chosen database. Specified
#user must have rights on this table
pgsql_table_name="ulog"

#Time in seconds we consider connection to the database to be lost if we have no
#answer
pgsql_request_timeout=5
